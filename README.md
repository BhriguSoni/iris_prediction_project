# Django Image Captioning App

This is a Django web application that generates captions for uploaded images using a trained deep learning model. The app allows users to upload an image and receive a descriptive caption generated by the model.

## Features

- Image upload via a web form
- Image captioning using a pre-trained deep learning model
- Displays the uploaded image and its generated caption

## Requirements

- Python 3.6+
- Django 5.0.6
- TensorFlow
- Keras
- OpenCV
- Gensim
- tqdm

## Installation

1. **Clone the repository:**

    ```bash
    git clone https://github.com/BhriguSoni/image_captioning_app.git
    cd image_captioning_project
    ```

2. **Create a virtual environment:**

    ```bash
    python -m venv myenv
    ```

3. **Activate the virtual environment:**

    - On Windows:
      ```bash
      myenv\Scripts\activate
      ```
    - On macOS and Linux:
      ```bash
      source myenv/bin/activate
      ```

4. **Install the required packages:**

    ```bash
    pip install -r requirements.txt
    ```

5. **Download the necessary model files and place them in the `model` directory:**

    - `model.keras`: Your trained image captioning model
    - `word_index.pkl`: The word index file
    - `features.pkl`: The image features file

6. **Run database migrations:**

    ```bash
    python manage.py migrate
    ```

7. **Run the development server:**

    ```bash
    python manage.py runserver
    ```

8. **Open your web browser and go to:**

    ```
    http://127.0.0.1:8000/
    ```

## Project Structure

- `image_captioning_project/`: The main project directory
- `image_captioning_app/`: The Django app directory
  - `static/`: Contains static files (CSS)
  - `templates/`: Contains HTML templates
  - `models.py`: Model definitions
  - `views.py`: View functions
  - `forms.py`: Form definitions
  - `urls.py`: URL routing
  - `model/`: Directory to store your model files
- `media/`: Directory where uploaded images are stored
- `requirements.txt`: List of Python dependencies
- `README.md`: Project documentation

## Usage

1. **Upload an Image:**

   - On the home page, use the form to upload an image file.

2. **View the Caption:**

   - After uploading, the app will display the uploaded image and its generated caption.

## Example

Here is an example of an uploaded image and its generated caption:

![Example Image](https://th.bing.com/th/id/OIP.rxp0hw2gPEVKMq9wvVBBmgHaE8?w=267&h=180&c=7&r=0&o=5&dpr=1.1&pid=1.7)

**Caption:  Man in blue and white hat is using blue object with flowers in field**





## Troubleshooting

- **MultiValueDictKeyError:**

  If you encounter a `MultiValueDictKeyError`, ensure that the form field names in your HTML template match the form fields defined in your `forms.py`.

- **Model not found:**

  Make sure the model files are correctly placed in the `model` directory and that their paths are correctly referenced in the code.

## License

This project is licensed under the Apache-2.0 License.

## Acknowledgments

- This project uses pre-trained models and datasets from various sources.
- Special thanks to the contributors of TensorFlow, Keras, and Django.

